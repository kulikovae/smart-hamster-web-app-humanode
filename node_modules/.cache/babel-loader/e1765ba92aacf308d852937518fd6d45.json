{"ast":null,"code":"import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n\n}\nexport function composeInitialProps(ForComponent) {\n  return ctx => new Promise(resolve => {\n    const i18nInitialProps = getInitialProps();\n\n    if (ForComponent.getInitialProps) {\n      ForComponent.getInitialProps(ctx).then(componentsInitialProps => {\n        resolve({ ...componentsInitialProps,\n          ...i18nInitialProps\n        });\n      });\n    } else {\n      resolve(i18nInitialProps);\n    }\n  });\n}\nexport function getInitialProps() {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","map":{"version":3,"names":["createContext","getDefaults","setDefaults","getI18n","setI18n","initReactI18next","I18nContext","ReportNamespaces","constructor","usedNamespaces","addUsedNamespaces","namespaces","forEach","ns","getUsedNamespaces","Object","keys","composeInitialProps","ForComponent","ctx","Promise","resolve","i18nInitialProps","getInitialProps","then","componentsInitialProps","i18n","reportNamespaces","ret","initialI18nStore","languages","l","getResourceBundle","initialLanguage","language"],"sources":["/Users/loyanix/projects/frontend/smart-hamster-web-app/node_modules/react-i18next/dist/es/context.js"],"sourcesContent":["import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport function composeInitialProps(ForComponent) {\n  return ctx => new Promise(resolve => {\n    const i18nInitialProps = getInitialProps();\n    if (ForComponent.getInitialProps) {\n      ForComponent.getInitialProps(ctx).then(componentsInitialProps => {\n        resolve({\n          ...componentsInitialProps,\n          ...i18nInitialProps\n        });\n      });\n    } else {\n      resolve(i18nInitialProps);\n    }\n  });\n}\nexport function getInitialProps() {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}"],"mappings":"AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,eAAzC;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,mBAAjC;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,SAASJ,WAAT,EAAsBC,WAAtB,EAAmCC,OAAnC,EAA4CC,OAA5C,EAAqDC,gBAArD;AACA,OAAO,MAAMC,WAAW,GAAGN,aAAa,EAAjC;AACP,OAAO,MAAMO,gBAAN,CAAuB;EAC5BC,WAAW,GAAG;IACZ,KAAKC,cAAL,GAAsB,EAAtB;EACD;;EACDC,iBAAiB,CAACC,UAAD,EAAa;IAC5BA,UAAU,CAACC,OAAX,CAAmBC,EAAE,IAAI;MACvB,IAAI,CAAC,KAAKJ,cAAL,CAAoBI,EAApB,CAAL,EAA8B,KAAKJ,cAAL,CAAoBI,EAApB,IAA0B,IAA1B;IAC/B,CAFD;EAGD;;EACDC,iBAAiB,GAAG;IAClB,OAAOC,MAAM,CAACC,IAAP,CAAY,KAAKP,cAAjB,CAAP;EACD;;AAX2B;AAa9B,OAAO,SAASQ,mBAAT,CAA6BC,YAA7B,EAA2C;EAChD,OAAOC,GAAG,IAAI,IAAIC,OAAJ,CAAYC,OAAO,IAAI;IACnC,MAAMC,gBAAgB,GAAGC,eAAe,EAAxC;;IACA,IAAIL,YAAY,CAACK,eAAjB,EAAkC;MAChCL,YAAY,CAACK,eAAb,CAA6BJ,GAA7B,EAAkCK,IAAlC,CAAuCC,sBAAsB,IAAI;QAC/DJ,OAAO,CAAC,EACN,GAAGI,sBADG;UAEN,GAAGH;QAFG,CAAD,CAAP;MAID,CALD;IAMD,CAPD,MAOO;MACLD,OAAO,CAACC,gBAAD,CAAP;IACD;EACF,CAZa,CAAd;AAaD;AACD,OAAO,SAASC,eAAT,GAA2B;EAChC,MAAMG,IAAI,GAAGvB,OAAO,EAApB;EACA,MAAMQ,UAAU,GAAGe,IAAI,CAACC,gBAAL,GAAwBD,IAAI,CAACC,gBAAL,CAAsBb,iBAAtB,EAAxB,GAAoE,EAAvF;EACA,MAAMc,GAAG,GAAG,EAAZ;EACA,MAAMC,gBAAgB,GAAG,EAAzB;EACAH,IAAI,CAACI,SAAL,CAAelB,OAAf,CAAuBmB,CAAC,IAAI;IAC1BF,gBAAgB,CAACE,CAAD,CAAhB,GAAsB,EAAtB;IACApB,UAAU,CAACC,OAAX,CAAmBC,EAAE,IAAI;MACvBgB,gBAAgB,CAACE,CAAD,CAAhB,CAAoBlB,EAApB,IAA0Ba,IAAI,CAACM,iBAAL,CAAuBD,CAAvB,EAA0BlB,EAA1B,KAAiC,EAA3D;IACD,CAFD;EAGD,CALD;EAMAe,GAAG,CAACC,gBAAJ,GAAuBA,gBAAvB;EACAD,GAAG,CAACK,eAAJ,GAAsBP,IAAI,CAACQ,QAA3B;EACA,OAAON,GAAP;AACD"},"metadata":{},"sourceType":"module"}